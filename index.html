<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>    
    <title>/ bx.vc /</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script type="text/javascript">

    $(document).ready(function() {

        // used only to allow local serving of files
        $.ajaxSetup({
            beforeSend: function(xhr) {
                if (xhr.overrideMimeType) {
                    xhr.overrideMimeType("application/json");
                }
            }
        });

        $('#url_input').focus();    // set initial focus

        $('form#submit').submit(function(event) {
            $('#url_input_submit').prop('disabled', true);

            // process the form
            $.ajax({
                type        : 'POST',
                url         : '/prod/',
                data        : JSON.stringify({ 'url_long' : $('#url_input').val(), 'cdn_prefix': window.location.hostname }),
                contentType : 'application/json; charset=utf-8',
                dataType    : 'json',
                encode      : true
            })
            .done(function(data,textStatus, jqXHR) {
                $('#url_input_submit').prop('disabled', false);
                if (data.error) {
                    $('#url-group').addClass('has-error'); // add the error class to show red input
                    $('#url-error').show().text(data.error); // add the actual error message under our input
                } else {
                    $('form#submit').hide();        // hide initial submit form
                    $('form#result').show();        // and show the one used to display the results
                    $('#url_long').text(data.url_long);
                    $('#url_short').val(data.url_short).focus().select();
                }
            })
            .fail(function(_, _, errorThrown) {
                $('#url_input_submit').prop('disabled', false);
                $('#url-group').addClass('has-error'); // add the error class to show red input
                $('#url-error').show().text("Server error: "+errorThrown); // add the actual error message under our input
            });

            // stop the form from submitting the normal way and refreshing the page
            event.preventDefault();
        });
    
        $('form#result').submit(function(event) {
            location.reload();
        });

    });
    </script>
	
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-NNFDM8L');</script>
	<!-- End Google Tag Manager -->
	
</head>

<body class="text-center">
	
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNFDM8L"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	
	<nav class="navbar navbar-light bg-light justify-content-between shadow-sm">
	  <a class="navbar-brand font-weight-bold" href="https://bx.vc/">/ bx.vc  /</a>
	  <a class="btn btn-outline-primary" href="https://bx.vc/admin/buy.html">Get your own</a>
	</nav>

<div class="container">

		<h2 class="text-center m-5">Privacy & speed focused link shortener</h2>
		

        <form id="submit">
            <div id="url-group" class="form-group">
                <input type="url" required class="form-control" name="url" placeholder="Paste here the loooong URL"
                    id="url_input">
                <div class="help-block" style="display: none" id="url-error"></div>
            </div>
            <button type="submit" class="btn btn-lg btn-block btn-primary" id="url_input_submit">Shorten</button>

        </form>
        
        <form id="result" style="display: none">
    
            <h4><span class="badge badge-success">Done!</span></h4>
            <span id="url_long"></span>
            
            <div class="form-group">
                <label for="name">You can now copy/paste the short URL</label>
                <input type="text" class="form-control text-center" name="url" readonly="readonly" id="url_short">
                
            </div><button type="submit" class="btn btn-lg btn-block btn-secondary" id="page_reload">Create New</button>
            <div>
            </div>
        </form>

    </div> 
      <div class="container text-left mt-5">
        <!-- Example row of columns -->
        <div class="row">
          <div class="col-md-4">
            <h2 class="text-muted">Speed</h2>
            <p class="text-muted">Easy to use and lightning redirect.</p>
          </div>
          <div class="col-md-4">
            <h2 class="text-muted">Privacy</h2>
            <p class="text-muted">No private data saved anywhere.</p>
          </div>
          <div class="col-md-4">
            <h2 class="text-muted">Scale</h2>
            <p class="text-muted">Built on serverless architechture.</p>
          </div>
        </div>

        <hr>

      </div> <!-- /container -->
      
         
   
      
      </div>
      
      <footer class="mastfoot mt-auto">
          <div class="inner">
              <p>Built for you by <a href="https://iniret.com/">Iniret</a>.</p>
          </div>
      </footer>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-89704215-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-89704215-2');
</script>


	
</body>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@2.2.0/build/jwt-decode.js"></script>
</html>
